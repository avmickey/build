"use strict";(self.webpackChunknpa=self.webpackChunknpa||[]).push([[976],{9991:function(e,n,s){s.d(n,{r:function(){return o}});var t,r=s(2791),i=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},a.apply(this,arguments)}function l(e,n){if(null==e)return{};var s,t,r=function(e,n){if(null==e)return{};var s,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)s=i[t],n.indexOf(s)>=0||(r[s]=e[s]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)s=i[t],n.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var c=function(e,n){var s=e.title,c=e.titleId,o=l(e,i);return r.createElement("svg",a({width:60,height:60,viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":c},o),s?r.createElement("title",{id:c},s):null,t||(t=r.createElement("path",{d:"M0 4.28571C0 1.9192 1.9192 0 4.28571 0H55.7143C58.0848 0 60 1.9192 60 4.28571C60 6.65223 58.0848 8.57143 55.7143 8.57143H4.28571C1.9192 8.57143 0 6.65223 0 4.28571ZM25.7143 21.4286C25.7143 19.058 27.6295 17.1429 30 17.1429H55.7143C58.0848 17.1429 60 19.058 60 21.4286C60 23.7991 58.0848 25.7143 55.7143 25.7143H30C27.6295 25.7143 25.7143 23.7991 25.7143 21.4286ZM55.7143 34.2857C58.0848 34.2857 60 36.2009 60 38.5714C60 40.942 58.0848 42.8571 55.7143 42.8571H30C27.6295 42.8571 25.7143 40.942 25.7143 38.5714C25.7143 36.2009 27.6295 34.2857 30 34.2857H55.7143ZM0 55.7143C0 53.3437 1.9192 51.4286 4.28571 51.4286H55.7143C58.0848 51.4286 60 53.3437 60 55.7143C60 58.0848 58.0848 60 55.7143 60H4.28571C1.9192 60 0 58.0848 0 55.7143ZM3.45804 42.308C2.05045 43.4062 0 42.4018 0 40.6205V19.3795C0 17.5982 2.05045 16.5938 3.45804 17.692L17.1161 28.3125C18.0938 29.1696 18.0938 30.8304 17.1161 31.6875L3.45804 42.308Z"})))},o=(0,r.forwardRef)(c);s.p},2942:function(e,n,s){s.d(n,{Z:function(){return l}});var t=s(2791),r=s(24),i=s(4805),a=s(184),l=function(e){var n=e.name;return(0,t.useEffect)((function(){return window.addEventListener("click",r.jq),function(){return window.removeEventListener("click",r.jq)}}),[]),(0,a.jsxs)("div",{className:"shop__menu ".concat(n),children:[(0,a.jsx)("div",{className:"shop__body"}),(0,a.jsx)("div",{className:"shop__btn",onClick:function(){(0,i.$)(".shop__menu").remove("show")},children:(0,a.jsx)("p",{className:"",children:"Continue"})})]})}},8461:function(e,n,s){function t(e,n){for(var s,t,r=[],i=e.target.closest(n);i.previousSibling;)1==(i=i.previousSibling).nodeType&&r.push(i);for(i=e.target.closest(n);i.nextSibling;)1==(i=i.nextSibling).nodeType&&r.push(i);r.map((function(e){var s;null===e||void 0===e||null===(s=e.closest(n))||void 0===s||s.classList.remove("add")})),null===(s=e.target.closest(n))||void 0===s||null===(t=s.closest(n))||void 0===t||t.classList.toggle("add")}function r(e,n){var s,t,r,i=e.target,a=i.closest("ul");i.closest('li[data-type="All"]')?Array.from(null===a||void 0===a?void 0:a.querySelectorAll("li.add")).forEach((function(e){e.classList.remove("add")})):(null===(s=i.closest(n))||void 0===s||s.classList.toggle("add"),null===a||void 0===a||null===(t=a.querySelector('li[data-type="All"]'))||void 0===t||t.classList.remove("add"));null!==a&&void 0!==a&&a.querySelector("li.add")||(null===a||void 0===a||null===(r=a.querySelector('li[data-type="All"]'))||void 0===r||r.classList.add("add"))}s.d(n,{J:function(){return t},l:function(){return r}})},9976:function(e,n,s){s.r(n),s.d(n,{UserAside:function(){return be},UserSection:function(){return _e},default:function(){return Ne}});var t,r=s(32),i=s(7689),a=s(2791),l=s(4805),c=s(184),o=(0,r.Pi)((function(e){var n=e.submit,s=e.name,t=e.children,r=function(e,n){(0,l.$)(e.closest("".concat(n))).has("add")||((0,l.$)("".concat(n)).remove("add"),(0,l.$)(e.closest("".concat(n))).toggle("add"))};return(0,c.jsxs)("div",{onClick:function(e){var n=e.target;n.closest("li")?r(n,"li"):n.closest(".harmonic")&&(0,l.$)(n.closest(".harmonic")).toggle("add")},className:"".concat(s," ").concat(n&&"add","  harmonic"),children:[(0,c.jsxs)("div",{className:"harmonic__head",children:[(0,c.jsx)("p",{className:"",children:s}),(0,c.jsx)("p",{className:"harmonic__arrow ",children:">"})]}),(0,c.jsx)("div",{className:"harmonic__blockharmonic",children:(0,c.jsx)("ul",{className:"harmonic__blockemersion",children:t})})]})})),d=s(4165),u=s(5861),m=s(9439),p=s(5979),h=s(7004),f=["title","titleId"];function x(){return x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},x.apply(this,arguments)}function v(e,n){if(null==e)return{};var s,t,r=function(e,n){if(null==e)return{};var s,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)s=i[t],n.indexOf(s)>=0||(r[s]=e[s]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)s=i[t],n.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var g=function(e,n){var s=e.title,r=e.titleId,i=v(e,f);return a.createElement("svg",x({width:512,height:512,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":r},i),s?a.createElement("title",{id:r},s):null,t||(t=a.createElement("path",{d:"M362.7 19.32C387.7 -5.678 428.3 -5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32ZM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03002 504.1C0.819818 498.8 -1.50198 489.7 0.976018 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3Z"})))},j=(0,a.forwardRef)(g),_=(s.p,s(4262)),b=s(5088),N=s(1134),y=s(3673),k=(0,r.Pi)((function(){var e,n=(0,a.useContext)(p._).user,s=n.getUser,t=[{name:"FirstName",value:null===s||void 0===s?void 0:s.firstName,key:"firstName"},{name:"LastName",value:null===s||void 0===s?void 0:s.lastName,key:"lastName"},{name:"Login",value:null===s||void 0===s?void 0:s.login,key:"login"},{name:"Email",value:null===s||void 0===s?void 0:s.email,key:"email"},{name:"Number",value:null===s||void 0===s?void 0:s.number,key:"number"}];return(0,c.jsx)("div",{className:"userblock",children:(0,c.jsx)("div",{className:"userblock__wrap",children:(0,c.jsx)("div",{className:"userblock__row",children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"userblock__title",children:(0,c.jsx)("p",{className:"big",children:null===(e=n.getUser)||void 0===e?void 0:e.firstName})}),t.map((function(e){return(0,c.jsx)(w,{item:e},e.name)}))]})})})})}));function w(e){var n=e.item,s=(0,a.useState)(!1),t=(0,m.Z)(s,2),r=t[0],i=t[1],l=(0,a.useContext)(p._).user,o=(0,h.Z)(function(){var e=(0,u.Z)((0,d.Z)().mark((function e(n){var s;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Vx)(n);case 2:"Ok"==(s=e.sent).message&&(l.setUser=s.user,i(!1));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),f=(0,m.Z)(o,2),x=f[0],v=f[1],g=(0,N.cI)({mode:"onSubmit"}),k=g.register,w=g.formState.errors,C=g.handleSubmit,Z=g.setValue;return(0,c.jsx)(c.Fragment,{children:r?(0,c.jsxs)("form",{onSubmit:C((function(e){v(e)})),className:"userblock__form",children:[(0,c.jsx)("div",{className:"setsale__input",children:(0,c.jsx)(b.O,{register:k,type:"text",setValue:Z,errors:w,name:n.key,textFiled:n.name})}),(0,c.jsxs)("div",{className:"userblock__footer",children:[(0,c.jsx)("button",{type:"submit",className:"userblock__btn",children:x?(0,c.jsx)(_.t,{children:(0,c.jsx)(_.Z,{})}):(0,c.jsx)("p",{className:"mini",children:"UPDATE"})}),(0,c.jsx)("div",{className:"userblock__cancel",onClick:function(){return i(!1)},children:(0,c.jsx)("p",{className:"mini",children:"Cancel"})})]})]}):(0,c.jsxs)("div",{className:"userblock__items",children:[(0,c.jsx)("div",{className:"userblock__key",children:(0,c.jsxs)("p",{children:[n.name,":"]})}),(0,c.jsxs)("div",{className:"userblock__item",children:[(0,c.jsx)("div",{className:"userblock__value",children:(0,c.jsx)("p",{children:n.value})}),(0,c.jsx)("div",{onClick:function(){return i(!0)},className:"userblock__icon",children:(0,c.jsx)(j,{})})]})]})})}var C,Z=s(1087),O=(0,r.Pi)((function(e){var n=e.item,s=(0,i.TH)().pathname,t=(0,a.useRef)(null);return(0,a.useEffect)((function(){if(t.current){t.current.closest("p").offsetWidth;t.current.style.transition="width 0.5s ease 0s"}})),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("li",{className:"".concat(s.includes(n.path)&&"add"),children:(0,c.jsx)(Z.rU,{to:"/".concat(n.parent,"/").concat(n.path),children:(0,c.jsx)("p",{children:n.name})})})})})),S=[{name:"Profile",path:"profile",parent:"user"},{name:"\u0421hange password",path:"pass",parent:"user"}],P=[{name:"Add Element",path:"item",parent:"admin"},{name:"Goods",path:"goods",parent:"admin"}],E=["title","titleId"];function F(){return F=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},F.apply(this,arguments)}function V(e,n){if(null==e)return{};var s,t,r=function(e,n){if(null==e)return{};var s,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)s=i[t],n.indexOf(s)>=0||(r[s]=e[s]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)s=i[t],n.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var L=function(e,n){var s=e.title,t=e.titleId,r=V(e,E);return a.createElement("svg",F({width:512,height:448,viewBox:"0 0 512 448",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},r),s?a.createElement("title",{id:t},s):null,C||(C=a.createElement("path",{d:"M160 384H96C78.33 384 64 369.67 64 352V96C64 78.33 78.33 64 96 64H160C177.67 64 192 49.67 192 32C192 14.33 177.7 0 160 0H96C42.98 0 0 42.98 0 96V352C0 405.02 42.98 448 96 448H160C177.67 448 192 433.67 192 416C192 398.33 177.7 384 160 384ZM502.6 201.4L374.6 73.4C362.09 60.89 341.84 60.91 329.35 73.4C316.85 85.9 316.85 106.15 329.35 118.65L402.8 192H192C174.3 192 160 206.3 160 224C160 241.7 174.31 256 192 256H402.8L329.42 329.38C316.92 341.88 316.92 362.13 329.42 374.63C341.92 387.13 362.17 387.13 374.67 374.63L502.67 246.63C515.1 234.1 515.1 213.9 502.6 201.4Z"})))},T=(0,a.forwardRef)(L),U=(s.p,s(3261)),A=(0,r.Pi)((function(){var e=(0,a.useContext)(p._).user,n=(0,N.cI)({mode:"onSubmit"}),s=n.register,t=n.handleSubmit,r=n.formState.errors,i=n.getValues,l=n.setValue,o=n.setError,f=(0,h.Z)(function(){var n=(0,u.Z)((0,d.Z)().mark((function n(s){var t;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,y.ME)(s);case 2:"Ok"==(t=n.sent).message?e.setUser=t.user:t.message.includes("Invalid")&&o("passwordold",{type:"custom",message:t.message});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),x=(0,m.Z)(f,2),v=x[0],g=x[1];return(0,c.jsx)("div",{className:"changepass",children:(0,c.jsx)("div",{className:"changepass__wrap",children:(0,c.jsxs)("form",{onSubmit:t(g),children:[(0,c.jsxs)("div",{className:"changepass__input",children:[(0,c.jsx)(U.C,{req:!0,title:"Old password",name:"passwordold",register:s,type:"password",textFiled:"Your old password",setValue:l,errors:r}),(0,c.jsx)(U.C,{req:!0,title:"New Password",name:"password",register:s,type:"password",textFiled:"Your new password",setValue:l,errors:r,getValues:i}),(0,c.jsx)(U.C,{req:!0,name:"passTwo",title:"Password Repeat",register:s,type:"password",textFiled:"Repeat password",setValue:l,errors:r,getValues:i,twopass:!0})]}),(0,c.jsx)("div",{className:"changepass__footer",children:(0,c.jsx)("div",{className:"changepass__footer",children:(0,c.jsx)("button",{type:"submit",className:"changepass__btn",children:v?(0,c.jsx)(_.t,{children:(0,c.jsx)(_.Z,{})}):(0,c.jsx)("p",{className:"mini",children:"UPDATE"})})})})]})})})})),I=s(24),H=s(9991),B=s(2942),q=s(1413),M=s(1243),D=s(2307),$=s(5671),R=s(3144),J=s(5229),z=function(){function e(){(0,$.Z)(this,e)}return(0,R.Z)(e,null,[{key:"setBrandOrtype",value:function(){var e=(0,u.Z)((0,d.Z)().mark((function e(n,s){var t,r,i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=s.split("").map((function(e){return e.toLowerCase()})).join(""),e.next=4,J.y.post("api/"+t+"/",{name:n});case 4:return r=e.sent,i=r.data,e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n,s){return e.apply(this,arguments)}}()},{key:"setColor",value:function(){var e=(0,u.Z)((0,d.Z)().mark((function e(n,s){var t,r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.y.post("api/color/",{name:n,color:s});case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,s){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,u.Z)((0,d.Z)().mark((function e(n,s){var t,r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.y.delete("api/"+s+"/"+n);case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n,s){return e.apply(this,arguments)}}()}]),e}(),G=s(533),K=(0,r.Pi)((function(e){var n=e.name,s=e.setValue,t=e.getValues,r=e.register,i=e.handelrClick,o=e.array,h=(0,a.useState)(!1),f=(0,m.Z)(h,2),x=f[0],v=f[1],g=(0,a.useState)(null===o||void 0===o?void 0:o.filter((function(e){return e.id==t(n)}))),j=(0,m.Z)(g,2),_=j[0],b=j[1],N=(0,a.useContext)(p._).product,y=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(r){var i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.delete(r.id,n);case 2:i=e.sent,"brand"==n?"ok"==i.message&&(N.setBrands=i.body):"category"==n?"ok"==i.message&&(N.setTypes=i.body):"color"==n&&"ok"==i.message&&(N.setColors=i.body),1==_.length&&_[0].id==t(n)&&(s(n,"0"),b([])),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){b(null===o||void 0===o?void 0:o.filter((function(e){return e.id==t(n)})))}),[N.getOld]);return(0,c.jsxs)("div",{"data-filter":!0,className:"select",children:[(0,c.jsxs)("div",{onClick:function(e){return i(e)},className:"select__head",children:[(0,c.jsx)("p",{children:null!==_&&void 0!==_&&_.length&&1==_.length?null===o||void 0===o?void 0:o.filter((function(e){return e.id==_[0].id}))[0].name:n.split("").map((function(e,n){return 0==n?e.toUpperCase():e.toLowerCase()}))}),(0,c.jsx)("p",{className:"select__arrow mini",children:">"})]}),(0,c.jsxs)("div",{className:"select__blockharmonic",children:[(0,c.jsx)("div",{className:"select__select",children:(0,c.jsx)("select",(0,q.Z)({},r(n)))}),(0,c.jsxs)("ul",{className:"select__blockemersion",children:[null===o||void 0===o?void 0:o.map((function(e){return(0,c.jsxs)("li",{className:(null===e||void 0===e?void 0:e.id)==t(n)?"add":"",children:[(0,c.jsxs)("div",{onClick:function(r){return function(e,r){s(n,t(n)==r.id?0:r.id),b([r]),i(e,r)}(r,e)},className:"select__check",children:[(0,c.jsx)("div",{className:"select__ok"}),(0,c.jsx)("div",{className:"select__text",children:(0,c.jsx)("p",{children:e.name.split("").map((function(e,n){return 0==n?e.toUpperCase():e.toLowerCase()}))})}),"color"==n&&"null"!=e.color&&(0,c.jsx)("div",{className:"select__color",style:{background:"".concat(e.color)}})]}),(0,c.jsx)("div",{onClick:function(){return y(e)},className:"select__delete",children:(0,c.jsx)(G.r,{})})]},e.name)})),x?(0,c.jsx)(W,{title:n,setAdd:v}):(0,c.jsxs)("li",{className:"select__addnew",onClick:function(){v(!0),setTimeout((function(){(0,l.$)(".select__inputtext input:first-child").focus()}))},children:[(0,c.jsx)("div",{className:"select__plus",children:(0,c.jsx)("p",{children:"+"})}),(0,c.jsx)("div",{className:"select__text",children:(0,c.jsxs)("p",{children:["Add ",n]})})]})]})]})]})})),Q=(0,r.Pi)((function(e){var n=e.name,s=e.children;return(0,c.jsxs)("div",{className:"selecthead",children:[(0,c.jsx)("div",{className:"titleproductadmin block",children:(0,c.jsx)("h3",{children:n})}),s]})})),W=(0,r.Pi)((function(e){var n=e.title,s=e.setAdd,t=(0,a.useState)(""),r=(0,m.Z)(t,2),i=r[0],l=r[1],o=(0,a.useState)("#ffffff"),h=(0,m.Z)(o,2),f=h[0],x=h[1],v=(0,a.useContext)(p._).product,g=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("brand"!=n){e.next=7;break}return e.next=3,z.setBrandOrtype(i,n);case 3:"ok"==(t=e.sent).message&&(v.setBrands=t.body),e.next=19;break;case 7:if("category"!=n){e.next=14;break}return e.next=10,z.setBrandOrtype(i,n);case 10:"ok"==(t=e.sent).message&&(v.setTypes=t.body),e.next=19;break;case 14:if("color"!=n){e.next=19;break}return e.next=17,z.setColor(i,f);case 17:"ok"==(t=e.sent).message&&(v.setColors=t.body);case 19:s(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)("div",{className:"select__add",children:[(0,c.jsx)("div",{className:"select__inputtext",children:(0,c.jsx)("input",{onChange:function(e){return l(e.target.value)},value:i,type:"text",placeholder:"new ".concat(n)})}),"color"==n&&(0,c.jsx)("div",{className:"select__inputcolor",children:(0,c.jsx)("input",{value:f,onChange:function(e){return x(e.target.value)},type:"color",name:"color"})}),(0,c.jsxs)("div",{onClick:g,className:"select__btn",children:[(0,c.jsx)("p",{children:"Add"}),(0,c.jsx)("p",{children:">"})]})]})})),Y=s(8461),X=(0,r.Pi)((function(e){var n=e.register,s=e.name;return(0,c.jsxs)("div",{className:"textareaitem",children:[(0,c.jsx)("div",{className:"titleproductadmin",children:(0,c.jsx)("h3",{children:"Information"})}),(0,c.jsx)("div",{className:"textareaitem__input",children:(0,c.jsx)("textarea",(0,q.Z)({},n(s)))})]})})),ee=(0,r.Pi)((function(e){var n=e.register,s=e.name,t=e.col,r=e.setValue;return(0,c.jsx)("div",{className:"pricedevice",children:(0,c.jsxs)("div",{className:"pricedevice__block",children:[(0,c.jsx)("div",{className:"titleproductadmin  ",children:(0,c.jsx)("h3",{children:s.split("").map((function(e,n){return 0==n?e.toUpperCase():e})).join("")})}),(0,c.jsx)("label",{children:(0,c.jsxs)("div",{className:"pricedevice__body",children:["price"==s&&(0,c.jsx)("p",{className:"price",children:"$"}),(0,c.jsx)("input",(0,q.Z)((0,q.Z)({type:"text"},n(s,{required:!0,onChange:function(e){var n=e.target.value;"price"==s?+n.replace(/[^0-9.]*/gi,"")<200&&r(s,n.replace(/[^0-9.]*/gi,"")):r(s,n.replace(/[^0-9.]*/gi,""))}})),{},{maxLength:t})),"sale"==s&&(0,c.jsx)("p",{className:"sale",children:"%"})]})})]})})})),ne=s(3433),se=s(8865),te=s(5141),re=s(6810),ie=(0,r.Pi)((function(e){var n,s=e.register,t=(e.name,e.getValues),r=e.setValue,i=e.imgOld,l=e.setImgOld,o=(0,a.useState)(null!==(n=t("files"))&&void 0!==n&&n.length?t("files"):[]),d=(0,m.Z)(o,2),u=d[0],p=d[1],h=(0,a.useState)([]),f=(0,m.Z)(h,2),x=f[0],v=f[1];var g=function(e,n,s){if(e)v(x.filter((function(e){return e.name!=n.name})));else if(s){var t=Array.from(Object.entries(JSON.parse(i))).filter((function(e){return e[0].toString()!=n[0].toString()}));l(JSON.stringify(Object.fromEntries(t)))}else{var a=u.filter((function(e){return e.name!=n.name}));p(a);var c=new DataTransfer;a.map((function(e){c.items.add(e)})),r("files",c.files)}};return(0,c.jsxs)("div",{className:"imgfiles",children:[(0,c.jsx)("div",{className:"imgfiles__head",children:(0,c.jsx)("div",{className:"titleproductadmin  ",children:(0,c.jsx)("h3",{children:"Downloang image"})})}),(0,c.jsxs)("div",{className:"imgfiles__body",children:[(0,c.jsxs)("div",{className:"imgfiles__input",children:[(0,c.jsxs)("label",{htmlFor:"files",children:[(0,c.jsx)("p",{className:"mini",children:"Add images, no more 2mb"}),(0,c.jsx)("div",{className:"imgfiles__svg",children:(0,c.jsx)(se.r,{})})]}),(0,c.jsx)("input",(0,q.Z)((0,q.Z)({type:"file"},s("files",{onChange:function(e){return function(e){var n=e.target.files,s=[],t=[];if(null!==n&&void 0!==n&&n.length)for(var r=0,i=Object.entries(n);r<i.length;r++){var a=(0,m.Z)(i[r],2),l=(a[0],a[1]);ce(l)&&oe(l.size)?s.push(l):t.push(l)}s=[].concat((0,ne.Z)(u),(0,ne.Z)(s)),p(s),v([].concat((0,ne.Z)(x),t));var c=new DataTransfer;return s.map((function(e){c.items.add(e)})),c.files}(e)}})),{},{accept:".jpg, .jpeg, .png",multiple:!0}))]}),(0,c.jsx)("div",{className:"imgfiles__items",children:(0,c.jsxs)("div",{className:"imgfiles__preview",children:[Array.from(Object.entries(JSON.parse(i||"{}"))).map((function(e,n){return(0,c.jsx)(ae,{item:e,error:!1,old:!0,handler:g},n)})),u.map((function(e,n){return(0,c.jsx)(ae,{item:e,error:!1,old:!1,handler:g},n)})),x.map((function(e,n){return(0,c.jsx)(ae,{item:e,error:!0,old:!1,handler:g},n)}))]})})]})]})})),ae=(0,r.Pi)((function(e){var n=e.item,s=e.error,t=e.handler,r=e.old;return(0,c.jsxs)("div",{className:"itemfile",children:[(0,c.jsx)(c.Fragment,{children:s?(0,c.jsx)("div",{className:"itemfile__text",children:(0,c.jsx)("p",{children:"File name "+n.name+": Not a valid file type or the file size large 2mb."})}):r?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"itemfile__name",children:(0,c.jsx)("p",{children:"File name "+n[0]+"."})}),(0,c.jsx)("div",{className:"itemfile__back",children:(0,c.jsx)("div",{style:{backgroundImage:"url(".concat(re.T5).concat(n[1],")")},className:"itemfile__item"})})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"itemfile__name",children:(0,c.jsx)("p",{children:"File name \n                    ".concat(n.name,".\n                    size:\n                    ").concat(oe(n.size),".")})}),(0,c.jsx)("div",{className:"itemfile__back",children:(0,c.jsx)("div",{style:{backgroundImage:"url(".concat(window.URL.createObjectURL(n),")")},className:"itemfile__item"})})]})}),(0,c.jsx)("div",{className:"itemfile__delete",onClick:function(){return t(s,n,r)},children:(0,c.jsx)(te.r,{})})]})})),le=["image/jpeg","image/pjpeg","image/png"];function ce(e){for(var n=0;n<le.length;n++)if(e.type===le[n])return!0;return!1}function oe(e){return e<1024?e+"bytes":e>1024&&e<1048576?(e/1024).toFixed(1)+"KB":e>1048576&&e<=2048576&&(e/1048576).toFixed(1)+"MB"}var de=s(620),ue=s(6481),me=(0,r.Pi)((function(){var e=(0,a.useContext)(p._),n=e.product,s=e.basket,t=e.favorite,r=(0,i.TH)().pathname,o=(0,i.UO)().id,f=(0,i.s0)(),x=(0,a.useState)(""),v=(0,m.Z)(x,2),g=v[0],j=v[1],b=(0,a.useState)({}),y=(0,m.Z)(b,2),k=y[0],w=y[1],C=(0,N.cI)({mode:"onSubmit"}),Z=C.register,O=C.setValue,S=(C.formState.errors,C.handleSubmit),P=C.getValues,E=(0,h.Z)((0,u.Z)((0,d.Z)().mark((function e(){var s;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([D.U.getBrands(),D.U.getTypes(),D.U.getColor()]).then(M.Z.spread((function(e,s,t){n.setTypes=s,n.setBrands=e,n.setColors=t})));case 2:if(!o){e.next=18;break}return e.next=5,D.U.getOne(+o);case 5:s=e.sent,w(s),O("category",s.type.id),O("brand",s.brand.id),O("color",s.colorId),O("price",s.price),O("sale",s.sale),O("information",s.info),O("name",s.name),j(s.deviceimg.img),n.setOld=!0,e.next=27;break;case 18:O("category",""),O("brand",""),O("color",""),O("price",""),O("sale",""),O("information",""),O("name",""),j(""),n.setOld=!1;case 27:case"end":return e.stop()}}),e)})))),F=(0,m.Z)(E,2),V=F[0],L=F[1];(0,a.useEffect)((function(){L()}),[r]);var T=function(e,n){e.preventDefault();var s=e.target,t=s.closest("li"),r=s.closest(".select");null!==t&&void 0!==t&&t.textContent&&t?(0,Y.J)(e,"li"):r&&(0,l.$)(r).toggle("add")},U=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||null===k||void 0===k||!k.change){e.next=5;break}return e.next=3,D.U.delete(+o);case 3:Promise.all([(0,de.oy)(),ue.T.getAll()]).then(M.Z.spread((function(e,n){e.devices&&n.devices&&(s.setProducts=e.devices,t.setProducts=n.devices)}))),f("/admin/goods?page=1");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(n){var s,t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==P("category")||""==P("brand")||""==P("color")){e.next=16;break}if(!o){e.next=8;break}return e.next=4,D.U.change(n,+o,g);case 4:"ok"==(null===(s=e.sent)||void 0===s?void 0:s.message)&&f("/admin/goods?page=1"),e.next=16;break;case 8:return e.next=10,D.U.setImg(n.files);case 10:if("ok"!=(t=e.sent).message){e.next=16;break}return e.next=14,D.U.set(n,t.body.id);case 14:e.sent,f("/admin/goods?page=1");case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.jsx)("div",{className:"changegoods",children:(0,c.jsx)(c.Fragment,{children:V?(0,c.jsx)(_.Z,{name:"all"}):(0,c.jsxs)("form",{onSubmit:S(A),className:"changegoods__form",children:[(0,c.jsx)("div",{className:"changegoods__name",children:(0,c.jsxs)("div",{className:"changegoods__nameblock",children:[(0,c.jsx)("div",{className:"titleproductadmin block ",children:(0,c.jsx)("h3",{children:"Product Name"})}),(0,c.jsx)("div",{className:"changegoods__nameinput",children:(0,c.jsx)("input",(0,q.Z)({placeholder:"Name"},Z("name",{required:"Field must be filled"})))})]})}),(0,c.jsxs)("div",{className:"changegoods__select",children:[(0,c.jsx)(Q,{name:"Category",children:(0,c.jsx)(K,{name:"category",register:Z,setValue:O,getValues:P,handelrClick:T,array:n.getTypes})}),(0,c.jsx)(Q,{name:"Brand",children:(0,c.jsx)(K,{name:"brand",getValues:P,register:Z,setValue:O,handelrClick:T,array:n.getBrands})}),(0,c.jsx)(Q,{name:"Color",children:(0,c.jsx)(K,{name:"color",getValues:P,register:Z,setValue:O,handelrClick:T,array:n.getColors})})]}),(0,c.jsxs)("div",{className:"changegoods__numbers",children:[(0,c.jsx)(ee,{setValue:O,register:Z,name:"price",col:5}),(0,c.jsx)(ee,{setValue:O,register:Z,name:"sale",col:2})]}),(0,c.jsx)(X,{register:Z,name:"information"}),(0,c.jsx)("div",{className:"changegoods__imageblock",children:(0,c.jsx)(ie,{register:Z,name:"files",getValues:P,setValue:O,setImgOld:j,imgOld:g})}),(0,c.jsxs)("div",{className:"changegoods__footer",children:[!!o&&(null===k||void 0===k?void 0:k.change)&&(0,c.jsx)("button",{onClick:U,className:"changegoods__delete",children:(0,c.jsx)("p",{children:"DELETE"})}),o?(null===k||void 0===k?void 0:k.change)&&(0,c.jsx)("button",{type:"submit",className:"changegoods__btn",children:(0,c.jsx)("p",{children:"UPDATE"})}):(0,c.jsx)("button",{type:"submit",className:"changegoods__btn",children:(0,c.jsx)("p",{children:"SEND"})})]})]})})})})),pe=function(e){var n=e.count,s=e.setPage,t=e.pageOld,r=fe(),i=function(e){var i,a=t;+(a=(null===(i=e.target)||void 0===i?void 0:i.closest(".paginationline__back")).dataset.back?+a-1+"":+a+1+"")>=1&&+a<=+Math.ceil(+n/10)&&(r("page",a.toString()),s(a),document.documentElement.scrollIntoView({block:"start",behavior:"smooth"}))};return(0,c.jsx)("div",{className:"paginationline",children:(0,c.jsxs)("div",{className:"paginationline__wrap",children:[(0,c.jsx)("div",{onClick:i,"data-back":!0,className:"paginationline__back",children:(0,c.jsx)("p",{className:"mini",children:"Back"})}),(0,c.jsx)("ul",{children:function(){for(var e=new Map,r=1;r<=Math.ceil(+n/10);r++)e.set(r,(0,c.jsx)(he,{pageOld:t,setPage:s,children:r.toString()},r));return Array.from(e.values())}()}),(0,c.jsx)("div",{onClick:i,"data-next":!0,className:"paginationline__back",children:(0,c.jsx)("p",{className:"mini",children:"Next"})})]})})},he=function(e){var n=e.children,s=e.setPage,t=e.pageOld,r=fe();return(0,c.jsx)("li",{onClick:function(){r("page",n.toString()),s(n),document.documentElement.scrollIntoView({block:"start",behavior:"smooth"})},className:+n==+t?"add":"",children:(0,c.jsx)("p",{className:"mini",children:n})})},fe=function(){var e=(0,Z.lr)(),n=(0,m.Z)(e,2),s=n[0],t=n[1];return function(e,n){s.set(e,n),t(s)}},xe=(0,r.Pi)((function(){var e,n=(0,a.useState)(null),s=(0,m.Z)(n,2),t=s[0],r=(s[1],(0,a.useState)()),i=(0,m.Z)(r,2),l=i[0],o=i[1],p=(0,a.useState)("1"),f=(0,m.Z)(p,2),x=f[0],v=f[1],g=(0,Z.lr)(),j=(0,m.Z)(g,2),b=j[0],N=j[1],y=(0,h.Z)((0,u.Z)((0,d.Z)().mark((function e(){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.U.getAllGoods(t,x);case 2:"OK"==(n=e.sent).message&&o(n.device);case 4:case"end":return e.stop()}}),e)})))),k=(0,m.Z)(y,2),w=k[0],C=k[1];return(0,a.useEffect)((function(){document.title="Admin"}),[]),(0,a.useEffect)((function(){v(b.get("page")||"1"),b.get("page")||(b.set("page","1"),N(b))}),[]),(0,a.useEffect)((function(){C()}),[t,x]),(0,c.jsx)("div",{className:"goodslist",children:(0,c.jsxs)("div",{className:"goodslist__wrap",children:[(0,c.jsxs)("div",{className:"goodslist__turn",children:[(0,c.jsx)("div",{className:"goodslist__type",children:(0,c.jsx)("p",{className:"",children:"Type"})}),(0,c.jsx)("div",{className:"goodslist__type",children:(0,c.jsx)("p",{className:"",children:"Brand"})}),(0,c.jsx)("div",{className:"goodslist__type",children:(0,c.jsx)("p",{className:"",children:"Title"})}),(0,c.jsx)("div",{className:"goodslist__type",children:(0,c.jsx)("p",{className:"",children:"Price"})})]}),(0,c.jsx)("div",{className:"goodslist__items",children:w?(0,c.jsx)(_.Z,{name:"all"}):(0,c.jsx)(c.Fragment,{children:null===l||void 0===l||null===(e=l.rows)||void 0===e?void 0:e.map((function(e,n){return(0,c.jsx)(ve,{item:e,index:n,fetching:C,page:x},e.id)}))})}),!(null===l||void 0===l||!l.count)&&(0,c.jsx)(pe,{count:l.count,setPage:v,pageOld:x})]})})})),ve=(0,r.Pi)((function(e){var n,s,t=e.item,r=e.index,l=e.fetching,o=e.page,m=(0,a.useContext)(p._),h=m.basket,f=m.favorite,x=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.U.delete(+t.id);case 2:Promise.all([(0,de.oy)(),ue.T.getAll()]).then(M.Z.spread((function(e,n){e.devices&&n.devices&&(h.setProducts=e.devices,f.setProducts=n.devices)}))),l();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(0,i.s0)();return(0,c.jsx)("div",{className:"goodsitem",onClick:function(){return(null===t||void 0===t?void 0:t.change)&&document.documentElement.clientWidth<765&&v("/admin/item/"+t.id)},children:(0,c.jsxs)("div",{className:"goodsitem__wrap",children:[(0,c.jsx)("div",{className:"goodsitem__number ",children:(0,c.jsx)("p",{className:"mini",children:10*+o-10+r+1})}),(0,c.jsx)("div",{className:"goodsitem__type typename",children:(0,c.jsx)("p",{className:"mini",children:null===t||void 0===t||null===(n=t.type)||void 0===n?void 0:n.name})}),(0,c.jsx)("div",{className:"goodsitem__type brandname",children:(0,c.jsx)("p",{className:"mini",children:(null===t||void 0===t||null===(s=t.brand)||void 0===s?void 0:s.name.length)<=10?t.brand.name:t.brand.name.split("").filter((function(e,n){return n<=10})).join("")+"..."})}),(0,c.jsx)("div",{className:"goodsitem__type goodsname",children:(0,c.jsx)("p",{className:"mini",children:t.name.length<=10?t.name:t.name.split("").filter((function(e,n){return n<=10})).join("")+"..."})}),(0,c.jsx)("div",{className:"goodsitem__type pricename",children:(0,c.jsxs)("p",{className:"mini",children:["$",null===t||void 0===t?void 0:t.price]})}),t.change&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"goodsitem__svg changetype",children:(0,c.jsx)(Z.rU,{to:"/admin/item/"+t.id,children:(0,c.jsx)(j,{})})}),(0,c.jsx)("div",{onClick:x,className:"goodsitem__svg deletetype",children:(0,c.jsx)(G.r,{})})]})]})})})),ge=(0,r.Pi)((function(){var e=(0,i.TH)().pathname;return(0,c.jsx)(c.Fragment,{children:e.includes("goods")?(0,c.jsx)(xe,{}):e.includes("item")&&(0,c.jsx)(me,{})})})),je=(0,r.Pi)((function(){var e=(0,i.TH)().pathname;return(0,a.useEffect)((function(){(0,I.AE)()}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(B.Z,{name:"user"}),(0,c.jsx)("div",{className:"user indentstart indent",children:(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"user__wrap",children:[(0,c.jsx)(be,{}),(0,c.jsx)("div",{className:"user__body",children:e.includes("user")?(0,c.jsx)(_e,{}):(0,c.jsx)(ge,{})})]})})})]})})),_e=(0,r.Pi)((function(){var e=(0,i.TH)().pathname;return(0,a.useEffect)((function(){document.title="User"})),(0,c.jsx)(c.Fragment,{children:e.includes("pass")?(0,c.jsx)(A,{}):(0,c.jsx)(k,{})})})),be=(0,r.Pi)((function(){var e=(0,i.TH)().pathname,n=(0,a.useContext)(p._).user,s=(0,i.s0)();return(0,c.jsx)("div",{className:"useraside",children:(0,c.jsxs)("div",{className:"useraside__wrapper",children:[(0,c.jsx)("div",{className:"useraside__blockfirst",children:(0,c.jsxs)("div",{className:"useraside__setting",children:[(0,c.jsx)(o,{submit:e.includes("user"),name:"Account",children:S.map((function(e){return(0,c.jsx)(O,{item:e},e.name)}))}),"Admin"==n.getUser.role&&(0,c.jsx)(o,{submit:e.includes("admin"),name:"Settings",children:P.map((function(e){return(0,c.jsx)(O,{item:e},e.name)}))})]})}),(0,c.jsx)("div",{onClick:I.jq,className:"useraside__blocksecond",children:(0,c.jsx)("div",{className:"useraside__filter",children:(0,c.jsx)(H.r,{})})}),(0,c.jsx)("div",{className:"useraside__exit exit",children:(0,c.jsxs)("div",{onClick:function(){localStorage.setItem("token","0"),n.setAuth=!1,n.setUser={},s("/")},className:"exit__wrap",children:[(0,c.jsx)("div",{className:"exit__text",children:(0,c.jsx)("p",{className:"",children:"Exit"})}),(0,c.jsx)("div",{className:"exit__img",children:(0,c.jsx)(T,{})})]})})]})})})),Ne=je},5088:function(e,n,s){s.d(n,{O:function(){return d},Z:function(){return o}});var t=s(1413),r=s(2791),i=s(5979),a=s(9424),l=s(8852),c=(s(9168),s(184));function o(e){var n,s=e.type,o=e.register,d=e.name,u=e.errors,m=e.setValue,p=e.textFiled,h=(u[d]&&(null===(n=u[d])||void 0===n||n.message),(0,r.useContext)(i._).basket);return(0,r.useEffect)((function(){(0,a.ST)()}),[]),(0,c.jsx)("div",{className:"inputFiled",children:(0,c.jsxs)("div",{className:h.setSale>0?"inputFiled__block sale ":"inputFiled__block old all",children:[(0,c.jsx)("div",{className:"inputFiled__text old all",children:(0,c.jsx)("p",{className:"mini",children:p})}),(0,c.jsx)("input",(0,t.Z)((0,t.Z)({},o(d,{required:"Field must be filled",pattern:(0,l.Q)(s,d)})),{},{onChange:function(e){return function(e){h.getSale>0?m(d,"aaa"):(0,a.m)(e,m,d)}(e)},onFocus:a.T_,onBlur:a.T_,type:s}))]})})}function d(e){var n=e.type,s=e.register,i=e.name,o=e.setValue,d=e.textFiled;return(0,r.useEffect)((function(){(0,a.ST)()}),[]),(0,c.jsx)("div",{className:"inputFiled",children:(0,c.jsxs)("div",{className:"inputFiled__block old all",children:[(0,c.jsx)("div",{className:"inputFiled__text old all",children:(0,c.jsx)("p",{className:"mini",children:d})}),(0,c.jsx)("input",(0,t.Z)((0,t.Z)({},s(i,{required:"Field must be filled",pattern:(0,l.Q)(n,i)})),{},{onChange:function(e){return(0,a.m)(e,o,i)},onFocus:a.T_,onBlur:a.T_,type:n}))]})})}}}]);
//# sourceMappingURL=976.7c6e0fdf.chunk.js.map